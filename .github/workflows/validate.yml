name: Validate Pull Request
run-name: >-
    "${{ github.actor }}"κ°€ μ μ¶ν• κ³Όμ λ¥Ό κ²€ν† ν•κ³  μμµλ‹λ‹¤. π€
on:
    pull_request:
        types:
            - opened
            - edited
            - reopened
            - ready_for_review
            - unlocked
            - synchronize
jobs:
    Validate-Pull-Request:
        runs-on: ubuntu-latest
        permissions:
            contents: read
        steps:
            - name: 1κ°μ νμΌλ§ μμ •λμ—λ”μ§€ κ²€μ‚¬
              uses: JJ/github-pr-contains-action@releases/v11
              with:
                  github-token: "${{ secrets.GITHUB_TOKEN }}"
                  filesChanged: 1
            - name: μ λ© ν•μ‹μ΄ μ¬λ°”λ¥Έμ§€ κ²€μ‚¬
              uses: deepakputhraya/action-pr-title@master
              with:
                  regex: '^\[\d{2}μ£Όμ°¨ [κ°€-ν£]+\] .+'
                  github_token: "${{ secrets.GITHUB_TOKEN }}"
            - name: νμΌμ κ²½λ΅κ°€ μ¬λ°”λ¥Έμ§€ κ²€μ‚¬
              uses: brettcannon/check-for-changed-files@v1
              with:
                  # TODO: Replace hard-coded patterns
                  file-pattern: |
                    /[0-9][0-9]μ£Όμ°¨/@(κΉ€λ™μ£Ό|μ΄μ¤νΈ|μ΄μ€μ§€|λ°•λ―Όμ|μ†μ„±λΉ|λ°•μƒμ°|μ •μ§€μ›|μ΅°μλΉ)/*.@(c|cpp|py|java)
                    /[0-9][0-9]\\354\\243\\274\\354\\260\\250/@(\\352\\271\\200\\353\\217\\231\\354\\243\\274|\\354\\235\\264\\354\\234\\244\\355\\230\\270|\\354\\235\\264\\354\\235\\200\\354\\247\\200|\\353\\260\\225\\353\\257\\274\\354\\210\\230|\\354\\206\\220\\354\\204\\261\\353\\271\\210|\\353\\260\\225\\354\\203\\201\\354\\232\\260|\\354\\240\\225\\354\\247\\200\\354\\233\\220|\\354\\241\\260\\354\\230\\210\\353\\271\\210)/*.@(c|cpp|py|java)
                  token: "${{ secrets.GITHUB_TOKEN }}"
                  failure-message: >-
                    μ μ¶ν• νμΌμ κ²½λ΅κ°€ μ¬λ°”λ¥΄μ§€ μ•μµλ‹λ‹¤.
                    νμΌμ μ΄ μ¬λ°”λ¥Έ λ””λ ‰ν„°λ¦¬μ— μλ”μ§€ ν™•μΈν•΄μ£Όμ„Έμ”.
